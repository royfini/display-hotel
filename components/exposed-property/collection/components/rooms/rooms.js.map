{"version":3,"file":"rooms.js","sourceRoot":"","sources":["../../../src/components/rooms/rooms.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Element, Event, EventEmitter, State } from '@stencil/core/internal';\r\nimport tailwind from '../../output.css';\r\nimport { data } from '../../data';\r\nimport { io } from 'socket.io-client';\r\n@Component({\r\n  tag: 'rf-rooms',\r\n  shadow: true,\r\n})\r\nexport class Rooms {\r\n  @Element() element: HTMLElement;\r\n\r\n  @State()roy = true\r\n  @State() rooms = [...data.My_Result.roomtypes]\r\n  amenities = data.My_Result.amenities;\r\n\r\n  socket: any;\r\n  componentWillLoad() {\r\n    this.socket = io('http://localhost:3000');\r\n    this.socket.on('connection', () => {\r\n      console.log('Connected to server');\r\n    });\r\n    this.socket.on('disable_room_type', room_id => {\r\n      this.handleDisableRoomType(room_id)\r\n    });\r\n    this.socket.on('activate_room_type', room_id => {\r\n      this.handleActivateRoomType(room_id)\r\n    });\r\n    \r\n  }\r\n  handleDisableRoomType(room_id) {\r\n    let updatedRooms = this.rooms.map(item => {\r\n      if (item.id === room_id) {\r\n        return { ...item, is_active: false };\r\n      }\r\n      return item;\r\n    });\r\n    this.rooms = [...updatedRooms]\r\n  }\r\n\r\n  handleActivateRoomType(room_id) {\r\n    let updatedRooms = this.rooms.map(item => {\r\n      if (item.id === room_id) {\r\n        return { ...item, is_active: true };\r\n      }\r\n      return item;\r\n    });\r\n    this.rooms = [...updatedRooms]\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const shadowRoot = this.element.shadowRoot;\r\n    if (shadowRoot) {\r\n      const style = document.createElement('style');\r\n      style.textContent = tailwind;\r\n      shadowRoot.appendChild(style);\r\n    }\r\n  }\r\n  @Event({ bubbles: true, composed: true }) rf_sendId: EventEmitter<number>;\r\n  sendId(id: number) {\r\n    console.log(id);\r\n    this.rf_sendId.emit(id);\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.rooms.map((e, i) => {\r\n          if (e.is_active) {\r\n            return (\r\n              <div class=\"flex flex-col md:flex-row bg-gray-200 rounded-lg my-4 p-4 gap-4\">\r\n                <div class=\"rounded-lg overflow-hidden w-full md:w-1/4 h-72 md:h-48 relative hover:cursor-pointer\">\r\n                  <rf-carousel\r\n                    images={e.images.map(i => {\r\n                      return i.url;\r\n                    })}\r\n                    roomId={i}\r\n                  ></rf-carousel>\r\n\r\n                  <div class=\"absolute bottom-0 flex flex-row w-full justify-between px-4 bg-gray-400 bg-opacity-70\" onClick={this.sendId.bind(this, i)}>\r\n                    <div>Max {e.occupancy_max.adult_nbr}</div>\r\n                    <div>\r\n                      {e.size}m<sup>2</sup>\r\n                    </div>\r\n                    <div>...more</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"w-full md:w-3/4 flex flex-col gap-y-2\">\r\n                  <h3 class=\"text-2xl font-semibold\">{e.name}</h3>\r\n                  <div class=\"flex flex-row gap-x-4\">\r\n                    {e.bedding_setup.map(b => {\r\n                      return <div class=\"text-sm\">{b.name}</div>;\r\n                    })}\r\n                  </div>\r\n                  <div class=\"flex flex-row gap-x-4 text-sm\">\r\n                    <div>{this.amenities[2].description}</div>\r\n                    <div>{this.amenities[14].description}</div>\r\n                    <div>{this.amenities[25].description}</div>\r\n                  </div>\r\n                  <div class=\"text-sm\">{e.description}</div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}